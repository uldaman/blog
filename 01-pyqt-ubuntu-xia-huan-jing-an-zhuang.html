<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width" />

    <title>01、PyQt Ubuntu 下环境安装</title>

    <link rel="stylesheet" href="http://blog.smallcpp.com/theme/css/normalize.css" />
    <link rel="stylesheet" href="http://blog.smallcpp.com/theme/css/foundation.min.css" />
    <link rel="stylesheet" href="http://blog.smallcpp.com/theme/css/style.css" />
    <link rel="stylesheet" href="http://blog.smallcpp.com/theme/css/pygments.css" />
    <link rel="shortcut icon" type="image/x-icon" href="http://blog.smallcpp.com/theme/images/favicon.ico" />
    <script src="http://blog.smallcpp.com/theme/js/modernizr.js"></script>
</head>

<body>

<!-- Nav Bar -->
<nav>
<div class="top-bar">
<div class="row">
    <div class="large-9 large-centered columns">
	    <h1><a href="http://blog.smallcpp.com">Small Cpp | 勿在浮沙筑高台, 练从难处练, 用从易处用.</a></h1>
    </div>
</div>
</div>

<!-- Show menu items and pages -->
<div class="row">
<div class="large-9 columns">
    <ul class="button-group navigation">

    </ul>
</div>
</div>
</nav>
<!-- End Nav -->


<!-- Main Page Content and Sidebar -->
<div class="row">

    <!-- Main Blog Content -->
    <div class="large-9 columns">
<article>
    <header>
        <h3 class="article-title"><a href="http://blog.smallcpp.com/01-pyqt-ubuntu-xia-huan-jing-an-zhuang.html" rel="bookmark"
        title="Permalink to 01、PyQt Ubuntu 下环境安装">01、PyQt Ubuntu 下环境安装</a></h3>
    </header>

<h6 class="subheader" title="2016-04-26T19:04:00+08:00">周二 26 四月 2016
</h6>


    <p>注意, 我在 Ubuntu 低版本下安装这个环境有点问题, 在最新版本下正常&hellip; 所以安装前还是请大家升级自己的 Ubuntu 系统吧.</p>
<div class="toc">
<ul>
<li><a href="#_1">说明</a></li>
<li><a href="#qt-487">Qt 4.8.7</a></li>
<li><a href="#sip">SIP</a></li>
<li><a href="#pyqt-411">PyQt 4.11</a></li>
<li><a href="#qscintilla">QScintilla</a></li>
<li><a href="#eric6">Eric6</a></li>
</ul>
</div>
<h1 id="_1"><a name="user-content-_1" href="#_1" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>说明</h1>
<p>PyQt 是 Riverbank Computing 公司开发的, 到 <a href="https://www.riverbankcomputing.com/news">Riverbank Computing</a> 的官网上就能下载 PyQt 了.</p>
<p><img alt="" src="http://i63.tinypic.com/2lo6k5t.jpg" /></p>
<p>不过这里要注意下版本, 因为我们是用的 Python 2 系列, 而 Python 2 系列只支持到 PyQt 4, 而 PyQt 4 又只支持的是 QT 4.8, 所以我们的环境就成了:<br>
<strong>Python 2.7 + PyQt 4.11 + Qt 4.8.7</strong></p>
<h1 id="qt-487"><a name="user-content-qt-487" href="#qt-487" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Qt 4.8.7</h1>
<p>下载: <a href="http://share.weiyun.com/97b8d2b831fec5c13cccb2880490b050">qt-everywhere-opensource-src-4.8.7.tar.gz</a></p>
<p>这个版本的 Qt 貌似从官网上下不到了, 官网上的是 qt-everywhere-enterprise-src-4.8.7.tar.gz, 这个版本安装时需要一个 Licenses &hellip; 我试了下还是有点问题, 所以网上找了个开源版本共享在我的云盘上.</p>
<p>下载下来后, 解压并在 Shell 中进入该文件夹, 依次执行下面的命令:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>~/Downloads/qt-everywhere-opensource-src-4.8.7$ sudo ./configure
~/Downloads/qt-everywhere-opensource-src-4.8.7$ sudo make
~/Downloads/qt-everywhere-opensource-src-4.8.7$ sudo make install
</pre></div>

<br>
安装好后, Qt 的默认路径是 <code>/usr/local/Trolltech/Qt-4.8.7/</code>, 可以在执行第一条命令时指定安装目录 <code>./configure --prefix=/usr/local</code></p>
<p>过程是漫长的, 耐心等待&hellip;</p>
<p>接下来配置__环境变量__:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>sudo vi ~/.bashrc
</pre></div>

<br>
打开文件后, 在结尾处添加以下内容:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>export QTDIR=/usr/local/Trolltech/Qt-4.8.7
export LD_LIBRARY_PATH=${QTDIR}/lib:${LD_LIBRARY_PATH}
export PATH=${QTDIR}/bin:${PATH}
</pre></div>

<br>
然后刷新下 bashrc:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span><span style="color: #ED6A43">source</span> ~/.bashrc
</pre></div>

<br>
测试是否安装成功:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>qmake -v
QMake version 2.01a
Using Qt version 4.8.7 in /usr/local/Trolltech/Qt-4.8.7/lib
</pre></div>

<br>
输入 <code>qmake -v</code> 后如果出现上面的内容就表示 Qt 安装好了&hellip;</p>
<h1 id="sip"><a name="user-content-sip" href="#sip" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>SIP</h1>
<p>SIP 是python 调用 C/C++ 库的必备模块, 是 PyQt 的依赖工具, 所以安装 PyQt 之前必须先安装 SIP.</p>
<p>PyQt 编译时使用的 SIP 版本__必须__与 python 默认调用的 SIP 保持一致!<br>
否则 python 中是无法调用 PyQt 的, 测试方法如下:</p>
<p>分别在终端输入:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>sip -V
</pre></div>

<br>
在python3环境输入：</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span><span style="color: #A71D5D">import</span> <span style="color: #555555">sip</span>
<span style="color: #A71D5D">print</span>(<span style="color: #333333">sip</span><span style="color: #A71D7E">.</span><span style="color: #333333">SIP_VERSION_STR</span>)
</pre></div>

<br>
查看二者显示的版本是否一致, 如不一致, 删除 python 的 dist-packages 目录下 sip 的相关文件:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>sudo rm -rf /usr/lib/python2.7/dist-packages/sip*
</pre></div>

<br>
然后再开始开安装.</p>
<p>首先去 <a href="https://www.riverbankcomputing.com/software/sip/download">Riverbank Computing</a> 下载 SIP 安装包.</p>
<p>下载下来后, 解压并在 Shell 中进入该文件夹, 依次执行下面的命令:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>sudo python configure.py
sudo make
sudo make install
</pre></div>

<br>
安装结束后, 再用之前的方法测试下.</p>
<h1 id="pyqt-411"><a name="user-content-pyqt-411" href="#pyqt-411" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>PyQt 4.11</h1>
<p>先去下载安装包 <a href="https://www.riverbankcomputing.com/software/pyqt/download">Riverbank Computing</a></p>
<p>下载下来后, 解压并在 Shell 中进入该文件夹, 依次执行下面的命令:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>sudo python configure.py
sudo make
sudo make install
</pre></div>

<br>
如果 <code>sudo python configure.py</code> 时提示找不到 qmake 编译器, 可以用面这条命令来指定 qmake:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>sudo python configure.py -q /usr/local/Trolltech/Qt-4.8.7/bin/qmake
</pre></div>

<br>
安装完后测试下:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>import PyQt4
</pre></div>

<br>
如果不报错就说明安装好了&hellip;</p>
<h1 id="qscintilla"><a name="user-content-qscintilla" href="#qscintilla" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>QScintilla</h1>
<p>QScintilla 是连接编译器和 Python 的接口, 是 <strong>Eric</strong> 的必需前置组件.</p>
<p>先去下载安装包 <a href="https://www.riverbankcomputing.com/software/qscintilla/download">Riverbank Computing</a></p>
<p>下载下来后, 解压并在 Shell 中进入该文件夹, 依次执行下面的命令:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>cd QScintilla-gpl-2.9.2

cd Qt4Qt5
qmake qscintilla.pro
sudo make
sudo make install

cd ../designer-Qt4Qt5
qmake designer.pro
sudo make
sudo make install

cd ../Python
python configure.py
sudo make
sudo make install
</pre></div>

<br></p>
<h1 id="eric6"><a name="user-content-eric6" href="#eric6" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Eric6</h1>
<p>去官网下载 <a href="http://eric-ide.python-projects.org/eric-download.html">Eric6</a> 安装包:</p>
<ul>
<li>ic6-6.1.4.tar.gz</li>
<li>eric6-i18n-zh_CN-6.1.4.tar.gz</li>
</ul>
<p>下载好后都解压下, 依次执行:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span><span style="color: #ED6A43">cd</span> ic6-6.1.4
sudo python install.py

<span style="color: #ED6A43">cd</span> ../eric6-i18n-zh_CN-6.1.4
sudo python3 install-i18n.py
</pre></div>

<br>
安装好后, 运行 eric6:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>sudo eric6
</pre></div>

<br>
<strong>注意:</strong> 为避免 Eric6 写入配置文件时权限不足, 要用 <code>sudo</code> 来运行 eric6.</p>
<p>也可以将当前用户的 eric6 目录权限设置为可读写:</p>
<p><div class="codehilite" style="background: #F7F7F7"><pre style="line-height: 125%"><span></span>sudo chmod a+w -R ~/.eric6
sudo chmod a+w -R ～/.config/Eric6
</pre></div>

<br>
然后就可以不用 <code>sudo</code> 来运行 eric6 了.</p>
<p class="subheader">Category: <a href="http://blog.smallcpp.com/category/pyqt-kai-fa.html">PyQt 开发</a>

</p>




</article>
    </div>
    <!-- End Main Content -->

    <!-- Sidebar -->
    <aside class="large-3 columns">
        <h5 class="sidebar-title">Site</h5>
        <ul class="side-nav">
            <li><a href="http://blog.smallcpp.com/archives.html">Archives</a>
            <li><a href="http://blog.smallcpp.com/tags.html">Tags</a>
        </ul>

        <h5 class="sidebar-title">Categories</h5>
        <ul class="side-nav">
            <li><a href="http://blog.smallcpp.com/category/ban-ben-kong-zhi.html">版本控制</a></li>
            <li><a href="http://blog.smallcpp.com/category/c11xin-te-xing.html">C++11新特性</a></li>
            <li><a href="http://blog.smallcpp.com/category/cocos2dyou-xi-kai-fa.html">Cocos2d游戏开发</a></li>
            <li><a href="http://blog.smallcpp.com/category/da-hua-she-ji-mo-shi.html">大话设计模式</a></li>
            <li><a href="http://blog.smallcpp.com/category/da-shu-ju.html">大数据</a></li>
            <li><a href="http://blog.smallcpp.com/category/dai-ma-da-quan.html">代碼大全</a></li>
            <li><a href="http://blog.smallcpp.com/category/golang.html">Golang</a></li>
            <li><a href="http://blog.smallcpp.com/category/hadoop.html">hadoop</a></li>
            <li><a href="http://blog.smallcpp.com/category/hei-ke-ji.html">黑科技</a></li>
            <li><a href="http://blog.smallcpp.com/category/jia-che-bao-dian.html">驾车宝典</a></li>
            <li><a href="http://blog.smallcpp.com/category/jia-gou-shi-zhi-lu.html">架构师之路</a></li>
            <li><a href="http://blog.smallcpp.com/category/ling-ji-chu-qt-ru-men.html">零基础 QT 入门</a></li>
            <li><a href="http://blog.smallcpp.com/category/linux.html">Linux</a></li>
            <li><a href="http://blog.smallcpp.com/category/luayou-xi-kai-fa.html">Lua游戏开发</a></li>
            <li><a href="http://blog.smallcpp.com/category/pyqt-kai-fa.html">PyQt 开发</a></li>
            <li><a href="http://blog.smallcpp.com/category/python-cong-ru-men-dao-fang-qi.html">Python 从入门到放弃</a></li>
            <li><a href="http://blog.smallcpp.com/category/shen-ru-qian-chu-flask.html">深入浅出 Flask</a></li>
            <li><a href="http://blog.smallcpp.com/category/shen-ru-qian-chu-mongodb.html">深入浅出 Mongodb</a></li>
            <li><a href="http://blog.smallcpp.com/category/shen-ru-qian-chu-redis.html">深入浅出 Redis</a></li>
            <li><a href="http://blog.smallcpp.com/category/za-xiang.html">杂项</a></li>
            <li><a href="http://blog.smallcpp.com/category/zai-xue-java.html">再学 JAVA</a></li>
        </ul>

        <h5 class="sidebar-title">Links</h5>
        <ul class="side-nav">
            <li><a href="http://blog.csdn.net/u010850265">CSDN</a></li>
        </ul>

        <h5 class="sidebar-title">Social</h5>
        <ul class="side-nav">
            <li><a href="http://blog.csdn.net/u010850265">CSDN</a></li>
        </ul>

    </aside> <!-- End Sidebar -->

</div> <!-- End Main Content and Sidebar -->


<!-- Footer -->
<footer class="row">
    <div class="large-12 columns">
        <hr />
        <div class="row">
            <div class="large-6 columns">
              <!--                  <p>Small Cpp | 勿在浮沙筑高台, 练从难处练, 用从易处用. by martin</p> -->
            </div>
            </div>
    </div>
</footer>
</body>
</html>