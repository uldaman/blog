Title: 52. Python __getattr__
Author: Martin
Date: 2017-09-15 20:20
Summary: 当调用类中不存在的属性时, Python 解释器会试图调用类的 __getattr__ 方法 (如果存在).

[TOC]

在[Python 高级特性之定制类](http://blog.smallcpp.cn/python-gao-ji-te-xing-zhi-ding-zhi-lei.html#9595getattr9595)中已经提到过 `__getattr__` 及其的一种应用 (**Restful API**), 除此之外, `__getattr__` 还可以用来实现组合模式 (需要配合反射).

```python
class adaptee(object):
  def foo(self):
    print 'foo in adaptee'
  def bar(self):
    print 'bar in adaptee'

class adapter(object):
  def __init__(self):
    self.adaptee = adaptee()

  def foo(self):
    print 'foo in adapter'
    self.adaptee.foo()

  def __getattr__(self, name):
    return getattr(self.adaptee, name)

if __name__ == '__main__':
  a = adapter()
  a.foo()
  a.bar()
```
<br>
如果 `adapter` 需要修改 `adaptee` 的行为, 那么定义一个同名的属性就行了, 其他的想直接"继承"的属性，通通交给 `__getattr__` 就行了.
